import{e as f,j as d,u as c,_ as w,c as p,a as e,g as v,h as n,v as t,t as g,i as y,o as u}from"./index-4OdDywR-.js";const U=f({setup(){const o=d({name:"",username:"",password:"",confirmPassword:""}),s=d(""),i=c();return{user:o,errorMessage:s,signUp:async()=>{if(o.password!==o.confirmPassword){s.value="Passwords do not match";return}try{const r=await fetch("http://localhost:3000/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name,username:o.username,password:o.password,role:"user"})});if(!r.ok)throw new Error("Failed to sign up. Please try again.");const l=await r.json();localStorage.setItem("loggedInUser",JSON.stringify(l)),i.push("/")}catch(r){s.value=r.message}}}}}),b={class:"section"},h={class:"container"},P={class:"columns is-centered"},S={class:"column is-one-third"},C={class:"box"},V={class:"field"},k={class:"control has-icons-left"},M={class:"field"},N={class:"control has-icons-left"},q={class:"field"},$={class:"control has-icons-left"},j={class:"field"},B={class:"control has-icons-left"},E={key:0,class:"help is-danger"};function I(o,s,i,m,r,l){return u(),p("section",b,[e("div",h,[e("div",P,[e("div",S,[e("div",C,[s[14]||(s[14]=e("h1",{class:"title has-text-centered"},"Sign Up",-1)),e("form",{onSubmit:s[4]||(s[4]=v((...a)=>o.signUp&&o.signUp(...a),["prevent"]))},[e("div",V,[s[6]||(s[6]=e("label",{class:"label",for:"name"},"Name",-1)),e("div",k,[n(e("input",{class:"input",type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=a=>o.user.name=a),placeholder:"Enter your name",required:""},null,512),[[t,o.user.name]]),s[5]||(s[5]=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-user"})],-1))])]),e("div",M,[s[8]||(s[8]=e("label",{class:"label",for:"username"},"Username",-1)),e("div",N,[n(e("input",{class:"input",type:"text",id:"username","onUpdate:modelValue":s[1]||(s[1]=a=>o.user.username=a),placeholder:"Create username",required:""},null,512),[[t,o.user.username]]),s[7]||(s[7]=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-user"})],-1))])]),e("div",q,[s[10]||(s[10]=e("label",{class:"label",for:"password"},"Password",-1)),e("div",$,[n(e("input",{class:"input",type:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=a=>o.user.password=a),placeholder:"Choose a password",required:""},null,512),[[t,o.user.password]]),s[9]||(s[9]=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-lock"})],-1))])]),e("div",j,[s[12]||(s[12]=e("label",{class:"label",for:"confirmPassword"},"Confirm Password",-1)),e("div",B,[n(e("input",{class:"input",type:"password",id:"confirmPassword","onUpdate:modelValue":s[3]||(s[3]=a=>o.user.confirmPassword=a),placeholder:"Confirm your password",required:""},null,512),[[t,o.user.confirmPassword]]),s[11]||(s[11]=e("span",{class:"icon is-small is-left"},[e("i",{class:"fas fa-lock"})],-1))])]),s[13]||(s[13]=e("div",{class:"field"},[e("div",{class:"control"},[e("button",{class:"button is-primary is-fullwidth"},"Sign Up")])],-1)),o.errorMessage?(u(),p("p",E,g(o.errorMessage),1)):y("",!0)],32)])])])])])}const T=w(U,[["render",I],["__scopeId","data-v-eece0300"]]);export{T as default};
